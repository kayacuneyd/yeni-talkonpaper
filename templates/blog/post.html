{% extends "base.html" %}
{% set title = post.title %}
{% block content %}
  <div class="container mx-auto px-4 max-w-[900px]">
    <!-- Breadcrumbs -->
    <div class="text-sm breadcrumbs mb-6">
      <ul>
        <li><a href="{{ url_for('main.home') }}">Home</a></li>
        <li><a href="{{ url_for('blog.index') }}">Blog</a></li>
        <li>{{ post.title }}</li>
      </ul>
    </div>

    <!-- Article Header -->
    <article class="mb-12">
      <header class="mb-8">
        <div class="flex flex-wrap gap-2 mb-4">
          {% for tag in post.tags %}
            <a href="{{ url_for('blog.index', tag=tag) }}" class="badge bg-primary/10 text-primary border-primary/20 badge-lg">
              {{ tag }}
            </a>
          {% endfor %}
        </div>

        <h1 class="text-5xl font-extrabold mb-4">{{ post.title }}</h1>

        <div class="flex items-center gap-3 text-base-content/70">
          <span>{{ post.author }}</span>
          <span>·</span>
          <time datetime="{{ post.date.isoformat() }}">{{ post.date.strftime('%B %d, %Y') }}</time>
        </div>
      </header>

      <!-- Article Content -->
      <div class="prose prose-lg max-w-none">
        <div class="article-content">
          {{ post.content|safe }}
        </div>
      </div>
    </article>

    <!-- Related Posts -->
    {% if related_posts %}
    <aside class="border-t border-base-300 pt-8">
      <h2 class="text-2xl font-extrabold mb-6">Related Posts</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        {% for related in related_posts %}
        <div class="card bg-base-100 border border-base-300 shadow-sm rounded-2xl p-4">
          <h3 class="text-lg font-bold mb-2">
            <a href="{{ url_for('blog.post', slug=related.slug) }}" class="link link-hover text-base-content">
              {{ related.title }}
            </a>
          </h3>
          <p class="text-sm text-base-content/60">{{ related.date.strftime('%B %d, %Y') }}</p>
        </div>
        {% endfor %}
      </div>
    </aside>
    {% endif %}

    <!-- Back to Blog -->
    <div class="mt-12 text-center">
      <a href="{{ url_for('blog.index') }}" class="btn btn-outline normal-case">
        ← Back to Blog
      </a>
    </div>
  </div>

  <style>
    /* Blog post content styling */
    .article-content {
      color: rgba(15, 23, 42, 0.8);
      line-height: 1.75;
    }
    .article-content h2 {
      font-size: 1.875rem;
      font-weight: 700;
      margin-top: 2rem;
      margin-bottom: 1rem;
      color: #0f172a;
    }
    .article-content h3 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
      color: #0f172a;
    }
    .article-content p {
      margin-bottom: 1.25rem;
    }
    .article-content ul, .article-content ol {
      margin-bottom: 1.25rem;
      padding-left: 1.5rem;
    }
    .article-content li {
      margin-bottom: 0.5rem;
    }
    .article-content a {
      color: #4ECDC4;
      text-decoration: underline;
    }
    .article-content a:hover {
      color: #0f766e;
    }
    .article-content code {
      background: #f2efe6;
      padding: 0.125rem 0.375rem;
      border-radius: 0.25rem;
      font-family: 'Monaco', 'Courier New', monospace;
      font-size: 0.875em;
    }
    .article-content pre {
      background: #0f172a;
      color: #f8fafc;
      padding: 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      margin-bottom: 1.25rem;
    }
    .article-content pre code {
      background: transparent;
      padding: 0;
      color: #f8fafc;
    }
    .article-content blockquote {
      border-left: 4px solid #4ECDC4;
      padding-left: 1rem;
      margin-left: 0;
      font-style: italic;
      color: rgba(15, 23, 42, 0.7);
    }
    .article-content img {
      max-width: 100%;
      height: auto;
      border-radius: 0.5rem;
      margin: 1.5rem 0;
    }
  </style>
{% endblock %}
